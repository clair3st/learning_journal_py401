#Vulnerability Report
**Reviewer:** Colin Lamont

**Date:** Feb 05, 2017

**Reviewing:** [learning_journal_py401](https://github.com/clair3st/learning_journal_py401)

## Injection

###Exposure
I found no spot where raw SQL was being injected. SQLAlchemy's ORM seemed to bloack any injection.


## Broken Authentication
There is no signup on the site, so I couldn't try to do what I did to the nV site. If there was a signup or registration form, I would have tried to hack via Chrome Dev tools to add the following:
I did try to do that on her log-in page, but as I didn't have an authenticated username or password, it failed.
```
<label for="id_is_superuser">Superuser status:</label>
<label for="id_is_staff">Staff status:</label></th><td><input id="id_is_staff" name="is_staff" type="checkbox" />
```


## Cross Site Scripting (XSS)

XSS flaws occur whenever an application takes untrusted data and sends it to a web browser without proper validation or escaping. XSS allows attackers to execute scripts in the victim’s browser which can hijack user sessions, deface web sites, or redirect the user to malicious sites.

I tried inputting username as `<script>alert('boo!');</script>` but nothing happened, and my attempt to login failed.


## Insecure Direct Object Reference (DOR)

No internal implementation object, like a file, directory, or database key were exposed without validation, so I wasn't able to manipulate these objects to access unauthorized data.

I tried to force down her edit and create routes, but since I wasn't authorized, I couldn't get there.

## Security Misconfiguration
I believe debug may still be on, as when I try to login with a fake username, I get an extensive traceback file. That said, within the traceback it erred out on username, which is referenced in the traceback as "if username == os.environ["AUTH_USERNAME"]:". 
The error also said: "Warning: this feature should not be enabled on production systems." And includes:

auth_secret = os.environ.get(####, ####) <-- Removing it so I don't expose her auth_secret on GitHub
authn_policy = AuthTktAuthenticationPolicy(
secret=####, <-- Again, removed the exposed secret
hashalg=##### <-- Again, removed the exposed hashalg

Turn Debug off.
I removed debugger tool from requirements, and setup.

## Sensitive Data Exposure

That we can get the auth_secret, authn_policy, secret, hashalg, if there were more to this system, we could probably get some sensitive data out.

Turn Debug off.
I removed debugger tool from requirements, and setup.

## Missing Function Level Access Control
I found no lack of verification of functional level access rights, as there was no admin or superuser to log into.

## Cross-Site Request Forgery (CSRF)
A CSRF attack forces a logged-on victim’s browser to send a forged HTTP request, forcing the victim’s browser to generate requests the application thinks are legitimate.

Since there is CSRF authentication on the forms and pages, there's no CSRF I could preform.
